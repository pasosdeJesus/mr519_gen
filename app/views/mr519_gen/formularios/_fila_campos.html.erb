<% f.object = Mr519Gen::Campo.new() if !f.object  %>
<tr class='nested-fields'>
  <td>
    <%= f.input :nombre, 
      label: false %>
  </td>
  <td>
    <%= f.input :tipo, 
      collection: Mr519Gen::ApplicationHelper::TIPOS_CAMPO,
      label: false %>
  </td>
  <td>
    <%= f.input :ayudauso, label: false %>
    <% clasedisp = 'display: none' %>
    <% if f.object.tipo == Mr519Gen::ApplicationHelper::SELECCIONMULTIPLE ||
      f.object.tipo == Mr519Gen::ApplicationHelper::SELECCIONSIMPLE %>
      <% clasedisp = 'display: block' %>
    <% end %>
    <div class="espopciones" style="<%= clasedisp %>">
      <% if f.object.opcioncs.count > 0 %>
        <hr>
        <%= f.simple_fields_for :opcioncs, f.object.opcioncs.order(:id) do |o| %>
          <%= render 'fila_opcionescs', f:  o %>
        <% end %>
      <% end %>
      <div class="links-opcionescs">
        <%= link_to_add_association 'Agregar opciÃ³n', f, :opcioncs, {
          #:"data-association-insertion-node" => "tbody#opciones", 
          #:"data-association-insertion-method" => "append", 
          partial: 'fila_opcionescs',
          class: 'btn-primary', 
            "data-ajax" => mr519_gen.new_opcioncs_path,
            "data-ajaxdata" => "formulario_campo_id" 
        } %>
      </div>
    </div>
  </td>
  <td>
    <%= f.input :obligatorio, label: false %>
  </td>
  <td>
    <%= f.input :id, as: :hidden %>
    <%= link_to_remove_association "Eliminar", f, 
      :class => 'btn-danger', "data-existing" => true %>
    <div><%= f.error_notification %></div>
  </td>
</tr>

